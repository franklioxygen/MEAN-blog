extends ./_layout.jade

block headerAndBody
  include ./_loginAlert.jade

  div(ng-controller='regValidation')
    form(name='myForm' action='/reg' method='post')
      label(for='username') Username
      input#username(type='text', name='username', ng-model='username', ng-minlength='5', ng-maxlength='20', ng-pattern='/^[A-z][A-z0-9]*$/', required=''  autocomplete='off')
      span(ng-show='myForm.username.$error.required && myForm.username.$dirty') required
      span(ng-show='!myForm.username.$error.minLength && !myForm.username.$error.maxLength && myForm.username.$error.pattern && myForm.username.$dirty') Must start with a letter, and contain letters and numbers only.
      span(ng-show='!myForm.username.$error.required && (myForm.username.$error.minlength || myForm.username.$error.maxlength) && myForm.username.$dirty') Username ust be between 5 and 20 characters.
      br
      label(for='email') Email
      input#email(type='email', name='email', ng-model='email', required=''  autocomplete='off')
      span(ng-show='myForm.email.$error.required && myForm.email.$dirty') required
      span(ng-show='!myForm.email.$error.required && myForm.email.$error.email && myForm.email.$dirty') invalid email
      br
      label(for='password') Password
      input#password(type='password', name='password', ng-model='password', ng-minlength='8', ng-maxlength='20', ng-pattern='/(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z])/', required='' ng-change='comparePassword()')
      span(ng-show='myForm.password.$error.required && myForm.password.$dirty') required
      span(ng-show='!myForm.password.$error.required && (myForm.password.$error.minlength || myForm.password.$error.maxlength) && myForm.password.$dirty') Passwords must be between 8 and 20 characters.
      span(ng-show='!myForm.password.$error.required && !myForm.password.$error.minlength && !myForm.password.$error.maxlength && myForm.password.$error.pattern && myForm.password.$dirty')
        | Must contain one lower and uppercase letter, and one non-alpha character (a number or a symbol.)
      br
      label(for='password_c') Confirm Password
      input#password_c(type='password', name='password_c', ng-model='password_c', valid-password-c='', required='' ng-change='comparePassword()')
      span(ng-show='myForm.password_c.$error.required && myForm.password_c.$dirty') Please confirm your password.
      span(ng-show='!myForm.password_c.$error.required && myForm.password_c.$error.noMatch && myForm.password.$dirty') Passwords do not match.
      br
      button.btn(type='submit', ng-disabled='!myForm.$valid') Submit

block footer
  include ./_footer.jade